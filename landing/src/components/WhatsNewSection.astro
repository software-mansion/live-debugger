---
import ContentWrapper from "../components/ContentWrapper.tsx";
import { Badge } from "./ui/badge";
import { BlockWrapper } from "./ui/blockWrapper";
import { SquareCheckBig } from "lucide-react";

const newsBlocks = [
  {
    title: "Improved asssigns inspections and tracking",
    description:
      "The Assigns inspector is now faster, smoother, and lets you browse the full history of each assign, see exactly how values changed over time, pin important assigns to keep them always visible & inspect state size measurements to catch heavy structures early.",
    icon: SquareCheckBig,
  },
  {
    title: "LiveView Resource Usage Page",
    description:
      "We added an entirely new page that shows resource consumption of your LiveView processes. This is a simple way to keep track of how your LiveViews behave behind the scenes.",
    icon: SquareCheckBig,
  },
  {
    title: "Async loading & Stream debugging",
    description:
      "v0.5.0 brings support for even more LiveView features, like async assigns and stream operations. This gives you deeper insight into LiveView internals than ever before.",
    icon: SquareCheckBig,
  },
  {
    title: "Dead LiveViews",
    description:
      "LiveDebugger can now show recently crashed LiveViews, making debugging those tricky failure cases a whole lot easier.",
    icon: SquareCheckBig,
  },
];
---

<section
  id="whatsnew"
  class="bg-bg-additional flex w-full items-center justify-center py-15 sm:py-20 md:py-28 lg:py-32"
>
  <ContentWrapper
    className="font-aeonik text-primary flex w-full flex-col items-center justify-center gap-12 sm:gap-14 md:gap-16 lg:gap-18"
  >
    <div class="flex flex-col items-center justify-center gap-4">
      <Badge variant="ternary"
        ><p class="text-sm font-medium">LiveDebugger v0.5.0</p></Badge
      >
      <h2 class="text-primary text-center text-2xl font-bold">Whatâ€™s new</h2>
      <h3 class="font-regular text-lg">
        Highlights from the December 2025 update.
      </h3>
    </div>

    <div class="aspect-video h-full w-full">
      <iframe
        class="h-full w-full"
        src="https://www.youtube.com/embed/UwoAqKYY2-w?si=iV2dolcoSBEcOXlr?controls=0"
        title="YouTube video player"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin"
        allowfullscreen
      >
      </iframe>
    </div>

    <div
      class={`w-full gap-x-8 gap-y-6 ${newsBlocks.length > 3 ? "grid grid-cols-1 md:grid-cols-2" : "flex justify-between max-md:flex-col"}`}
    >
      {
        newsBlocks.map((block) => {
          const Icon = block.icon;
          return (
            <BlockWrapper
              size="default"
              header={block.title}
              description={block.description}
              isFlat={true}
              client:visible
            >
              <Icon className="h-8 w-8 md:h-10 md:w-10 lg:h-11 lg:w-11 stroke-1" />
            </BlockWrapper>
          );
        })
      }
    </div>
  </ContentWrapper>
</section>
